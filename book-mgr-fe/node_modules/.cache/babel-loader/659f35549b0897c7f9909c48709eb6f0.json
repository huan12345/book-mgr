{"remainingRequest":"C:\\Users\\kke222222\\Desktop\\projects\\book-mgr\\book-mgr-fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\kke222222\\Desktop\\projects\\book-mgr\\book-mgr-fe\\src\\views\\Books\\index.jsx?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\kke222222\\Desktop\\projects\\book-mgr\\book-mgr-fe\\src\\views\\Books\\index.jsx","mtime":1637824691293},{"path":"C:\\Users\\kke222222\\Desktop\\projects\\book-mgr\\book-mgr-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\kke222222\\Desktop\\projects\\book-mgr\\book-mgr-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2trZTIyMjIyMi9EZXNrdG9wL3Byb2plY3RzL2Jvb2stbWdyL2Jvb2stbWdyLWZlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlIH0gZnJvbSAidnVlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZWYsIG9uTW91bnRlZCB9IGZyb20gJ3Z1ZSc7IC8vIHJlZu+8muWTjeW6lOW8j+WPmOmHj++8jOaOp+WItuW8ueahhueahOaYvuekuuS4jumakOiXj++8m29uTW91bnRlZO+8mue7hOS7tuiiq+aMgui9veaXtuWBmueahOS6i+aDhQoKaW1wb3J0IHsgYm9vayB9IGZyb20gJ0Avc2VydmljZSc7IC8vIGh0dHDlkI7nq6/ojrflj5bliJfooajliJfooajmlbDmja4KCmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ3Z1ZS1yb3V0ZXInOyAvLyDmk43kvZzot6/nlLHnmoTmlrnms5XvvIjot7PliLDlr7nlupTpobXpnaLvvIkKCmltcG9ydCB7IG1lc3NhZ2UsIE1vZGFsLCBJbnB1dCB9IGZyb20gJ2FudC1kZXNpZ24tdnVlJzsgLy8g5o+Q56S65qGG44CB56Gu6K6k5qGG44CB6L6T5YWl5qGGCgppbXBvcnQgeyByZXN1bHQsIGZvcm1hdFRpbWVzdGFtcCB9IGZyb20gJ0AvaGVscGVycy91dGlscyc7IC8vIHJlc3VsdOivt+axgue7k+aenO+8m2Zvcm1hdFRpbWVzdGFtcOagvOW8j+WMluaXtumXtOaIswoKaW1wb3J0IEFkZE9uZSBmcm9tICcuL0FkZE9uZS9pbmRleC52dWUnOyAvLyDkuabnsY3mt7vliqAKCmltcG9ydCBVcGRhdGUgZnJvbSAnLi9VcGRhdGUvaW5kZXgudnVlJzsgLy8g5L+u5pS55Lmm57GN5L+h5oGvCgpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIEFkZE9uZTogQWRkT25lLAogICAgLy8g5rOo5YaMQWRkT25lCiAgICBVcGRhdGU6IFVwZGF0ZSAvLyDms6jlhozkv67mlLnkuabnsY0KCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICAvLyDot6/nlLHmk43kvZzvvIzot7PovazliLDmjIflrpror6bmg4XpobUKICAgIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsgLy8g5Lmm57GN6KGo5qC85YiX55qE6YWN572u6aG5CgogICAgdmFyIGNvbHVtbnMgPSBbewogICAgICB0aXRsZTogJ+S5puWQjScsCiAgICAgIGRhdGFJbmRleDogJ25hbWUnCiAgICB9LCB7CiAgICAgIHRpdGxlOiAn5L2c6ICFJywKICAgICAgZGF0YUluZGV4OiAnYXV0aG9yJwogICAgfSwgewogICAgICB0aXRsZTogJ+S7t+agvCcsCiAgICAgIGRhdGFJbmRleDogJ3ByaWNlJwogICAgfSwgewogICAgICB0aXRsZTogJ+W6k+WtmCcsCiAgICAgIHNsb3RzOiB7CiAgICAgICAgY3VzdG9tUmVuZGVyOiAnY291bnQnCiAgICAgIH0KICAgIH0sIHsKICAgICAgdGl0bGU6ICflh7rniYjml6XmnJ8nLAogICAgICBkYXRhSW5kZXg6ICdwdWJsaXNoRGF0ZScsCiAgICAgIC8vIOaPkuanvQogICAgICBzbG90czogewogICAgICAgIGN1c3RvbVJlbmRlcjogJ3B1Ymxpc2hEYXRlJwogICAgICB9CiAgICB9LCB7CiAgICAgIHRpdGxlOiAn5YiG57G7JywKICAgICAgZGF0YUluZGV4OiAnY2xhc3NpZnknCiAgICB9LCB7CiAgICAgIHRpdGxlOiAn5pON5L2cJywKICAgICAgc2xvdHM6IHsKICAgICAgICBjdXN0b21SZW5kZXI6ICdhY3Rpb25zJwogICAgICB9CiAgICB9XTsgLy8g5by55qGG5pi+56S6CgogICAgdmFyIHNob3cgPSByZWYoZmFsc2UpOyAvLyDmt7vliqDkuIDmnaHlvLnmoYbvvIzpu5jorqTlhbPpl60KCiAgICB2YXIgc2hvd1VwZGF0ZU1vZGFsID0gcmVmKGZhbHNlKTsgLy8g5L+u5pS55Lmm57GN5by55qGGCiAgICAvLyDkuabnsY3mlbDmja4KCiAgICB2YXIgbGlzdCA9IHJlZihbXSk7IC8vIOS5puexjeaVsOaNrgoKICAgIHZhciB0b3RhbCA9IHJlZigwKTsgLy8g5Lmm57GN5oC75pWwCgogICAgdmFyIGN1clBhZ2UgPSByZWYoMSk7IC8vIOW9k+WJjemhteeggQoKICAgIHZhciBrZXl3b3JkID0gcmVmKCcnKTsgLy8g5p+l6K+i5Lmm5ZCNCgogICAgdmFyIGlzU2VhcmNoID0gcmVmKGZhbHNlKTsgLy8g5b2T5YmN5pCc57Si54q25oCB77yM6buY6K6kZmFsc2UKCiAgICB2YXIgY3VyRWRpdEJvb2sgPSByZWYoe30pOyAvLyDnvJbovpEKICAgIC8vIGh0dHDlkI7nq6/ov5Tlm57kuabnsY3kv6Hmga8KCiAgICB2YXIgZ2V0TGlzdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYm9vay5saXN0KHsKICAgICAgICAgICAgICAgICAgcGFnZTogY3VyUGFnZS52YWx1ZSwKICAgICAgICAgICAgICAgICAgLy8g6aG156CBCiAgICAgICAgICAgICAgICAgIHNpemU6IDEwLAogICAgICAgICAgICAgICAgICAvLyDkuabnsY3mnaHmlbAKICAgICAgICAgICAgICAgICAga2V5d29yZDoga2V5d29yZC52YWx1ZSAvLyDmn6Xmib7kuablkI0KCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIC8vIGh0dHDmiJDlip/ml7bkuabnsY3liJfooajku6Xlj4rpobXmlbDotYvlgLwKICAgICAgICAgICAgICAgIHJlc3VsdChyZXMpLnN1Y2Nlc3MoZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gX3JlZjIuZGF0YTsKICAgICAgICAgICAgICAgICAgLy8g6YeN5ZG95ZCN77yabCDkuabnsY3liJfooagg77ybIHQg5Lmm57GN5oC75pWwCiAgICAgICAgICAgICAgICAgIHZhciBsID0gZGF0YS5saXN0LAogICAgICAgICAgICAgICAgICAgICAgdCA9IGRhdGEudG90YWw7CiAgICAgICAgICAgICAgICAgIGxpc3QudmFsdWUgPSBsOwogICAgICAgICAgICAgICAgICB0b3RhbC52YWx1ZSA9IHQ7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7IC8vIOe7hOS7tuaMgui9veaXtuWBmueahOS6i+aDhe+8jOmhtemdouaJk+W8gOaXtuaYvuekuuS5puexjWxpc3Tkv6Hmga8KCgogICAgb25Nb3VudGVkKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBnZXRMaXN0KCk7IC8vIOi/lOWbnuS5puexjeWIl+ihqAoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKTsgLy8g6aG156CB5Y+Y5YyW5pe25YGa55qE5LqL5oOF77yM6I635Y+W5a+55bqU6aG156CB55qE5Lmm57GN5pWw5o2uCgogICAgdmFyIHNldFBhZ2UgPSBmdW5jdGlvbiBzZXRQYWdlKHBhZ2UpIHsKICAgICAgY3VyUGFnZS52YWx1ZSA9IHBhZ2U7IC8vIOS/ruaUueW9k+WJjemhtQoKICAgICAgZ2V0TGlzdCgpOyAvLyDov5Tlm57kuabnsY3liJfooagKICAgIH07IC8vIOaQnOe0ouS5puexjQoKCiAgICB2YXIgb25TZWFyY2ggPSBmdW5jdGlvbiBvblNlYXJjaCgpIHsKICAgICAgZ2V0TGlzdCgpOyAvLyDmmL7npLrkuabnsY3liJfooagKCiAgICAgIGlzU2VhcmNoLnZhbHVlID0gQm9vbGVhbihrZXl3b3JkLnZhbHVlKTsgLy8g5pCc57Si54q25oCB77yIa2V5d29yZC52YWx1ZeacieWAvOaXtiB0cnVl77yM5peg5YC8IGZhbHNl77yJCiAgICB9OyAvLyDov5Tlm57kuabnsY3liJfooajpppbpobUKCgogICAgdmFyIGJhY2tBbGwgPSBmdW5jdGlvbiBiYWNrQWxsKCkgewogICAgICBrZXl3b3JkLnZhbHVlID0gJyc7IC8vIOa4heepuuafpeivouS5puexjWlucHV0CgogICAgICBpc1NlYXJjaC52YWx1ZSA9IGZhbHNlOyAvLyDmkJzntKLnirbmgIFmYWxzZQoKICAgICAgZ2V0TGlzdCgpOyAvLyDmmL7npLrkuabnsY3liJfooagKICAgIH07IC8vIOWIoOmZpOS4gOacrOS5puexjQoKCiAgICB2YXIgcmVtb3ZlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWY1ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhfcmVmNCkgewogICAgICAgIHZhciByZWNvcmQsIF9pZCwgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmVjb3JkID0gX3JlZjQudGV4dDsKICAgICAgICAgICAgICAgIF9pZCA9IHJlY29yZC5faWQ7IC8vIOivpeS5puexjeeahOS4gOaVtOadoeS/oeaBrwoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBib29rLnJlbW92ZShfaWQpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIC8vIGh0dHDor7fmsYLlkI7nq6/liKDpmaTkuabnsY0KICAgICAgICAgICAgICAgIC8vIGh0dHDmiJDlip/mj5DnpLoKICAgICAgICAgICAgICAgIHJlc3VsdChyZXMpLnN1Y2Nlc3MoZnVuY3Rpb24gKF9yZWY2KSB7CiAgICAgICAgICAgICAgICAgIHZhciBtc2cgPSBfcmVmNi5tc2c7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3VjY2Vzcyhtc2cpOwogICAgICAgICAgICAgICAgfSk7IC8vICAgICAgICAgICAgY29uc3QgaWR4ID0gbGlzdC52YWx1ZS5maW5kSW5kZXgoKGl0ZW0pID0+IHsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLl9pZCA9PT0gX2lkOwogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgbGlzdC52YWx1ZS5zcGxpY2UoaWR4LCAxKTsvLyDnm7TmjqXlnKjpobXpnaLliKDpmaQKCiAgICAgICAgICAgICAgICBnZXRMaXN0KCk7IC8vIGh0dHDkuabnsY3liJfooagKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlbW92ZShfeCkgewogICAgICAgIHJldHVybiBfcmVmNS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOyAvLyDmm7TmlrDlupPlrZjmlbDmja7vvIjlop7lh4/vvIzkuabnsY3orrDlvZXvvIkKCgogICAgdmFyIHVwZGF0ZUNvdW50ID0gZnVuY3Rpb24gdXBkYXRlQ291bnQodHlwZSwgcmVjb3JkKSB7CiAgICAgIC8vIHR5cGXvvJrljLrliIblop7liqDmiJblh4/lsJEKICAgICAgdmFyIHdvcmQgPSAn5aKe5YqgJzsKCiAgICAgIGlmICh0eXBlID09PSAnT1VUX0NPVU5UJykgewogICAgICAgIHdvcmQgPSAn5YeP5bCRJzsKICAgICAgfSAvLyDlh7rlhaXlupPnoa7orqTlvLnmoYYKCgogICAgICBNb2RhbC5jb25maXJtKHsKICAgICAgICB0aXRsZTogIlx1ODk4MSIuY29uY2F0KHdvcmQsICJcdTU5MUFcdTVDMTFcdTVFOTNcdTVCNTgiKSwKICAgICAgICBjb250ZW50OiBfY3JlYXRlVk5vZGUoImRpdiIsIG51bGwsIFtfY3JlYXRlVk5vZGUoSW5wdXQsIHsKICAgICAgICAgICJjbGFzcyI6ICJfX2Jvb2tfaW5wdXRfY291bnQiCiAgICAgICAgfSwgbnVsbCldKSwKICAgICAgICAvLyBPS+aXtuWBmueahOS6i+aDhQogICAgICAgIG9uT2s6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBfb25PayA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgICAgIHZhciBlbCwgbnVtLCByZXM7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuX19ib29rX2lucHV0X2NvdW50Jyk7IC8vIOiOt+WPlmlucHV05pWw5o2uCgogICAgICAgICAgICAgICAgICAgIG51bSA9IGVsLnZhbHVlOyAvLyDlop7lh4/mlbDph48KICAgICAgICAgICAgICAgICAgICAvLyBodHRw6K+35rGC5pu05paw5bqT5a2YCgogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYm9vay51cGRhdGVDb3VudCh7CiAgICAgICAgICAgICAgICAgICAgICBpZDogcmVjb3JkLl9pZCwKICAgICAgICAgICAgICAgICAgICAgIC8vIOS5puexjWlkCiAgICAgICAgICAgICAgICAgICAgICBudW06IG51bSwKICAgICAgICAgICAgICAgICAgICAgIC8vIOWinuWHj+aVsOmHjwogICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSAvLyDlh7rlupPmiJblhaXlupMKCiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cOaIkOWKn+WTjeW6lAogICAgICAgICAgICAgICAgICAgIHJlc3VsdChyZXMpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIGlm5pivdHlwZeWFpeW6kwogICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdJTl9DT1VOVCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YWl5bqT5pON5L2cCiAgICAgICAgICAgICAgICAgICAgICAgIG51bSA9IE1hdGguYWJzKG51bSk7CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAvLyDlkKbliJnlh7rlupPmk43kvZwKICAgICAgICAgICAgICAgICAgICAgICAgbnVtID0gLU1hdGguYWJzKG51bSk7CiAgICAgICAgICAgICAgICAgICAgICB9IC8vIOWcqOmhtemdouaJvui/meadoWl0ZW0KCgogICAgICAgICAgICAgICAgICAgICAgdmFyIG9uZSA9IGxpc3QudmFsdWUuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5faWQgPT09IHJlY29yZC5faWQ7CiAgICAgICAgICAgICAgICAgICAgICB9KTsgLy8g5L+u5pS55pWw5YC8CgogICAgICAgICAgICAgICAgICAgICAgaWYgKG9uZSkgewogICAgICAgICAgICAgICAgICAgICAgICBvbmUuY291bnQgPSBvbmUuY291bnQgKyBudW07IC8vIOWHuuWFpeW6k+aPkOekugoKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdWNjZXNzKCJcdTYyMTBcdTUyOUYiLmNvbmNhdCh3b3JkLCAiICIpLmNvbmNhdChNYXRoLmFicyhudW0pLCAiIFx1NjcyQ1x1NEU2NiIpKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgICAgIH0pKTsKCiAgICAgICAgICBmdW5jdGlvbiBvbk9rKCkgewogICAgICAgICAgICByZXR1cm4gX29uT2suYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gb25PazsKICAgICAgICB9KCkKICAgICAgfSk7CiAgICB9OyAvLyDnvJbovpHkuovlgYcKCgogICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShfcmVmNykgewogICAgICB2YXIgcmVjb3JkID0gX3JlZjcucmVjb3JkOwogICAgICBzaG93VXBkYXRlTW9kYWwudmFsdWUgPSB0cnVlOyAvLyDlvLnmoYYKCiAgICAgIGN1ckVkaXRCb29rLnZhbHVlID0gcmVjb3JkOyAvLyDkuabnsY3kuabnsY0KICAgIH07IC8vIOe8lui+kWJvb2tz5pa55rOVCgoKICAgIHZhciB1cGRhdGVDdXJCb29rID0gZnVuY3Rpb24gdXBkYXRlQ3VyQm9vayhuZXdEYXRhKSB7CiAgICAgIC8vIOWQiOW5tuaVsOaNrgogICAgICBPYmplY3QuYXNzaWduKGN1ckVkaXRCb29rLnZhbHVlLCBuZXdEYXRhKTsKICAgIH07IC8vIOi/m+WFpeS5puexjeivpuaDhemhtQoKCiAgICB2YXIgdG9EZXRhaWwgPSBmdW5jdGlvbiB0b0RldGFpbChfcmVmOCkgewogICAgICB2YXIgcmVjb3JkID0gX3JlZjgucmVjb3JkOwogICAgICAvLyDot7PovazliLDmjIflrpror6bmg4XpobUKICAgICAgcm91dGVyLnB1c2goIi9ib29rcy8iLmNvbmNhdChyZWNvcmQuX2lkKSk7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGNvbHVtbnM6IGNvbHVtbnMsCiAgICAgIC8vIOihqOagvOWIl+eahOmFjee9rumhuQogICAgICBzaG93OiBzaG93LAogICAgICAvLyDmt7vliqDkuabnsY3lvLnmoYblvIDlhbMKICAgICAgbGlzdDogbGlzdCwKICAgICAgLy8g5ZCO56uv5Lmm57GN5pWw5o2uCiAgICAgIGZvcm1hdFRpbWVzdGFtcDogZm9ybWF0VGltZXN0YW1wLAogICAgICAvLyDmoLzlvI/ljJbml7bpl7TmiLMKICAgICAgY3VyUGFnZTogY3VyUGFnZSwKICAgICAgLy8g5b2T5YmN6aG156CBCiAgICAgIHRvdGFsOiB0b3RhbCwKICAgICAgLy8g5Lmm57GN5oC75pWwCiAgICAgIHNldFBhZ2U6IHNldFBhZ2UsCiAgICAgIC8vIOWPmOaNoumhtemdogogICAgICBrZXl3b3JkOiBrZXl3b3JkLAogICAgICAvLyDmn6Xor6LkuablkI0KICAgICAgb25TZWFyY2g6IG9uU2VhcmNoLAogICAgICAvLyDmn6Xmib7kuaYKICAgICAgYmFja0FsbDogYmFja0FsbCwKICAgICAgLy8g6L+U5Zue5p+l6K+i6aaW6aG1CiAgICAgIGlzU2VhcmNoOiBpc1NlYXJjaCwKICAgICAgLy8g5b2T5YmN5pCc57Si54q25oCBCiAgICAgIHJlbW92ZTogcmVtb3ZlLAogICAgICAvLyDliKDpmaTkuabnsY0KICAgICAgdXBkYXRlQ291bnQ6IHVwZGF0ZUNvdW50LAogICAgICAvLyDmm7TmlrDlupPlrZgKICAgICAgc2hvd1VwZGF0ZU1vZGFsOiBzaG93VXBkYXRlTW9kYWwsCiAgICAgIC8vIOS/ruaUueS5puexjeW8ueahhgogICAgICB1cGRhdGU6IHVwZGF0ZSwKICAgICAgLy8g5L+u5pS55Lmm57GNCiAgICAgIGN1ckVkaXRCb29rOiBjdXJFZGl0Qm9vaywKICAgICAgLy8g57yW6L6RCiAgICAgIHVwZGF0ZUN1ckJvb2s6IHVwZGF0ZUN1ckJvb2ssCiAgICAgIC8vIOe8lui+keaWueazlQogICAgICB0b0RldGFpbDogdG9EZXRhaWwgLy8g6K+m5oOFCgogICAgfTsKICB9Cn0pOw=="},{"version":3,"sources":["C:/Users/kke222222/Desktop/projects/book-mgr/book-mgr-fe/src/views/Books/index.jsx"],"names":["defineComponent","ref","onMounted","book","useRouter","message","Modal","Input","result","formatTimestamp","AddOne","Update","components","setup","router","columns","title","dataIndex","slots","customRender","show","showUpdateModal","list","total","curPage","keyword","isSearch","curEditBook","getList","page","value","size","res","success","data","l","t","setPage","onSearch","Boolean","backAll","remove","record","text","_id","msg","updateCount","type","word","confirm","content","onOk","el","document","querySelector","num","id","Math","abs","one","find","item","count","update","updateCurBook","newData","Object","assign","toDetail","push"],"mappings":";;;;;AAAA,SAASA,eAAT,EAA0BC,GAA1B,EAA+BC,SAA/B,QAAgD,KAAhD,C,CAAuD;;AACvD,SAASC,IAAT,QAAqB,WAArB,C,CAAkC;;AAClC,SAASC,SAAT,QAA0B,YAA1B,C,CAAwC;;AACxC,SAASC,OAAT,EAAkBC,KAAlB,EAAyBC,KAAzB,QAAsC,gBAAtC,C,CAAwD;;AACxD,SAASC,MAAT,EAAiBC,eAAjB,QAAwC,iBAAxC,C,CAA2D;;AAC3D,OAAOC,MAAP,MAAmB,oBAAnB,C,CAAyC;;AACzC,OAAOC,MAAP,MAAmB,oBAAnB,C,CAAyC;;AAEzC,eAAeX,eAAe,CAAC;AAC3BY,EAAAA,UAAU,EAAC;AACPF,IAAAA,MAAM,EAANA,MADO;AACC;AACRC,IAAAA,MAAM,EAANA,MAFO,CAEC;;AAFD,GADgB;AAK3BE,EAAAA,KAL2B,mBAKnB;AAEJ;AACA,QAAMC,MAAM,GAAGV,SAAS,EAAxB,CAHI,CAKJ;;AACA,QAAMW,OAAO,GAAG,CACZ;AACIC,MAAAA,KAAK,EAAE,IADX;AAEIC,MAAAA,SAAS,EAAE;AAFf,KADY,EAKZ;AACID,MAAAA,KAAK,EAAE,IADX;AAEIC,MAAAA,SAAS,EAAE;AAFf,KALY,EASZ;AACID,MAAAA,KAAK,EAAE,IADX;AAEIC,MAAAA,SAAS,EAAE;AAFf,KATY,EAaZ;AACID,MAAAA,KAAK,EAAE,IADX;AAEIE,MAAAA,KAAK,EAAE;AACHC,QAAAA,YAAY,EAAE;AADX;AAFX,KAbY,EAmBZ;AACIH,MAAAA,KAAK,EAAE,MADX;AAEIC,MAAAA,SAAS,EAAE,aAFf;AAGI;AACAC,MAAAA,KAAK,EAAE;AACHC,QAAAA,YAAY,EAAE;AADX;AAJX,KAnBY,EA2BZ;AACIH,MAAAA,KAAK,EAAE,IADX;AAEIC,MAAAA,SAAS,EAAE;AAFf,KA3BY,EA+BZ;AACID,MAAAA,KAAK,EAAE,IADX;AAEIE,MAAAA,KAAK,EAAE;AACHC,QAAAA,YAAY,EAAE;AADX;AAFX,KA/BY,CAAhB,CANI,CA8CJ;;AACA,QAAMC,IAAI,GAAGnB,GAAG,CAAC,KAAD,CAAhB,CA/CI,CA+CqB;;AACzB,QAAMoB,eAAe,GAAGpB,GAAG,CAAC,KAAD,CAA3B,CAhDI,CAgDgC;AACpC;;AACA,QAAMqB,IAAI,GAAGrB,GAAG,CAAC,EAAD,CAAhB,CAlDI,CAkDkB;;AACtB,QAAMsB,KAAK,GAAGtB,GAAG,CAAC,CAAD,CAAjB,CAnDI,CAmDkB;;AACtB,QAAMuB,OAAO,GAAGvB,GAAG,CAAC,CAAD,CAAnB,CApDI,CAoDoB;;AACxB,QAAMwB,OAAO,GAAGxB,GAAG,CAAC,EAAD,CAAnB,CArDI,CAqDqB;;AACzB,QAAMyB,QAAQ,GAAGzB,GAAG,CAAC,KAAD,CAApB,CAtDI,CAsDyB;;AAC7B,QAAM0B,WAAW,GAAG1B,GAAG,CAAC,EAAD,CAAvB,CAvDI,CAuDyB;AAE7B;;AACA,QAAM2B,OAAO;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACMzB,IAAI,CAACmB,IAAL,CAAU;AACxBO,kBAAAA,IAAI,EAAEL,OAAO,CAACM,KADU;AACH;AACrBC,kBAAAA,IAAI,EAAE,EAFkB;AAEd;AACVN,kBAAAA,OAAO,EAAEA,OAAO,CAACK,KAHO,CAGA;;AAHA,iBAAV,CADN;;AAAA;AACNE,gBAAAA,GADM;AAOZ;AACAxB,gBAAAA,MAAM,CAACwB,GAAD,CAAN,CACKC,OADL,CACa,iBAAc;AAAA,sBAAXC,IAAW,SAAXA,IAAW;AACnB;AACA,sBAAcC,CAAd,GAA8BD,IAA9B,CAAQZ,IAAR;AAAA,sBAAwBc,CAAxB,GAA8BF,IAA9B,CAAiBX,KAAjB;AACAD,kBAAAA,IAAI,CAACQ,KAAL,GAAaK,CAAb;AACAZ,kBAAAA,KAAK,CAACO,KAAN,GAAcM,CAAd;AACH,iBANL;;AARY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAPR,OAAO;AAAA;AAAA;AAAA,OAAb,CA1DI,CA2EJ;;;AACA1B,IAAAA,SAAS,uEAAC;AAAA;AAAA;AAAA;AAAA;AACN0B,cAAAA,OAAO,GADD,CACK;;AADL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAT,CA5EI,CAgFJ;;AACA,QAAMS,OAAO,GAAG,SAAVA,OAAU,CAACR,IAAD,EAAU;AACtBL,MAAAA,OAAO,CAACM,KAAR,GAAgBD,IAAhB,CADsB,CACA;;AACtBD,MAAAA,OAAO,GAFe,CAEX;AACd,KAHD,CAjFI,CAsFJ;;;AACA,QAAMU,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACnBV,MAAAA,OAAO,GADY,CACR;;AACXF,MAAAA,QAAQ,CAACI,KAAT,GAAiBS,OAAO,CAACd,OAAO,CAACK,KAAT,CAAxB,CAFmB,CAEsB;AAC5C,KAHD,CAvFI,CA4FJ;;;AACA,QAAMU,OAAO,GAAG,SAAVA,OAAU,GAAM;AAClBf,MAAAA,OAAO,CAACK,KAAR,GAAgB,EAAhB,CADkB,CACE;;AACpBJ,MAAAA,QAAQ,CAACI,KAAT,GAAiB,KAAjB,CAFkB,CAEM;;AACxBF,MAAAA,OAAO,GAHW,CAGP;AACd,KAJD,CA7FI,CAmGJ;;;AACA,QAAMa,MAAM;AAAA,0EAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAcC,gBAAAA,MAAd,SAASC,IAAT;AAEHC,gBAAAA,GAFG,GAEKF,MAFL,CAEHE,GAFG,EAEa;;AAFb;AAAA,uBAIOzC,IAAI,CAACsC,MAAL,CAAYG,GAAZ,CAJP;;AAAA;AAILZ,gBAAAA,GAJK;AAIyB;AAEpC;AACAxB,gBAAAA,MAAM,CAACwB,GAAD,CAAN,CACKC,OADL,CACa,iBAAa;AAAA,sBAAVY,GAAU,SAAVA,GAAU;AAClBxC,kBAAAA,OAAO,CAAC4B,OAAR,CAAgBY,GAAhB;AACH,iBAHL,EAPW,CAYvB;AACA;AACA;AACA;;AAEYjB,gBAAAA,OAAO,GAjBI,CAiBA;;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAANa,MAAM;AAAA;AAAA;AAAA,OAAZ,CApGI,CAwHJ;;;AACA,QAAMK,WAAW,GAAG,SAAdA,WAAc,CAACC,IAAD,EAAOL,MAAP,EAAkB;AAElC;AACA,UAAIM,IAAI,GAAG,IAAX;;AACA,UAAID,IAAI,KAAK,WAAb,EAA0B;AACtBC,QAAAA,IAAI,GAAG,IAAP;AACH,OANiC,CAQlC;;;AACA1C,MAAAA,KAAK,CAAC2C,OAAN,CAAc;AACVjC,QAAAA,KAAK,kBAAMgC,IAAN,6BADK;AAEVE,QAAAA,OAAO;AAAA,mBAEc;AAFd,kBAFG;AAQV;AACAC,QAAAA,IAAI;AAAA,8EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AACIC,oBAAAA,EADJ,GACSC,QAAQ,CAACC,aAAT,CAAuB,qBAAvB,CADT,EACwD;;AACtDC,oBAAAA,GAFF,GAEQH,EAAE,CAACtB,KAFX,EAEkB;AAEpB;;AAJE;AAAA,2BAKgB3B,IAAI,CAAC2C,WAAL,CAAiB;AAC/BU,sBAAAA,EAAE,EAAEd,MAAM,CAACE,GADoB;AACf;AAChBW,sBAAAA,GAAG,EAAHA,GAF+B;AAE1B;AACLR,sBAAAA,IAAI,EAAJA,IAH+B,CAGzB;;AAHyB,qBAAjB,CALhB;;AAAA;AAKIf,oBAAAA,GALJ;AAWF;AACAxB,oBAAAA,MAAM,CAACwB,GAAD,CAAN,CACKC,OADL,CACa,UAACC,IAAD,EAAU;AACf;AACA,0BAAIa,IAAI,KAAK,UAAb,EAAyB;AACrB;AACAQ,wBAAAA,GAAG,GAAGE,IAAI,CAACC,GAAL,CAASH,GAAT,CAAN;AACH,uBAHD,MAGO;AACH;AACAA,wBAAAA,GAAG,GAAG,CAACE,IAAI,CAACC,GAAL,CAASH,GAAT,CAAP;AACH,uBARc,CASf;;;AACA,0BAAMI,GAAG,GAAGrC,IAAI,CAACQ,KAAL,CAAW8B,IAAX,CAAgB,UAACC,IAAD,EAAU;AAClC,+BAAOA,IAAI,CAACjB,GAAL,KAAaF,MAAM,CAACE,GAA3B;AACH,uBAFW,CAAZ,CAVe,CAaf;;AACA,0BAAIe,GAAJ,EAAS;AACLA,wBAAAA,GAAG,CAACG,KAAJ,GAAYH,GAAG,CAACG,KAAJ,GAAYP,GAAxB,CADK,CAEL;;AACAlD,wBAAAA,OAAO,CAAC4B,OAAR,uBAAqBe,IAArB,cAA6BS,IAAI,CAACC,GAAL,CAASH,GAAT,CAA7B;AACH;AACJ,qBApBL;;AAZE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AATM,OAAd;AA8CH,KAvDD,CAzHI,CAkLJ;;;AACA,QAAMQ,MAAM,GAAG,SAATA,MAAS,QAAgB;AAAA,UAAbrB,MAAa,SAAbA,MAAa;AAC3BrB,MAAAA,eAAe,CAACS,KAAhB,GAAwB,IAAxB,CAD2B,CACG;;AAC9BH,MAAAA,WAAW,CAACG,KAAZ,GAAoBY,MAApB,CAF2B,CAEC;AAC/B,KAHD,CAnLI,CAwLJ;;;AACA,QAAMsB,aAAa,GAAG,SAAhBA,aAAgB,CAACC,OAAD,EAAa;AAC/B;AACAC,MAAAA,MAAM,CAACC,MAAP,CAAcxC,WAAW,CAACG,KAA1B,EAAiCmC,OAAjC;AACH,KAHD,CAzLI,CA8LJ;;;AACA,QAAMG,QAAQ,GAAG,SAAXA,QAAW,QAAgB;AAAA,UAAb1B,MAAa,SAAbA,MAAa;AAE7B;AACD5B,MAAAA,MAAM,CAACuD,IAAP,kBAAsB3B,MAAM,CAACE,GAA7B;AACF,KAJD;;AAOA,WAAO;AACH7B,MAAAA,OAAO,EAAPA,OADG;AACM;AACTK,MAAAA,IAAI,EAAJA,IAFG;AAEG;AACNE,MAAAA,IAAI,EAAJA,IAHG;AAGG;AACNb,MAAAA,eAAe,EAAfA,eAJG;AAIc;AACjBe,MAAAA,OAAO,EAAPA,OALG;AAKM;AACTD,MAAAA,KAAK,EAALA,KANG;AAMI;AACPc,MAAAA,OAAO,EAAPA,OAPG;AAOM;AACTZ,MAAAA,OAAO,EAAPA,OARG;AAQM;AACTa,MAAAA,QAAQ,EAARA,QATG;AASO;AACVE,MAAAA,OAAO,EAAPA,OAVG;AAUM;AACTd,MAAAA,QAAQ,EAARA,QAXG;AAWO;AACVe,MAAAA,MAAM,EAANA,MAZG;AAYK;AACRK,MAAAA,WAAW,EAAXA,WAbG;AAaU;AACbzB,MAAAA,eAAe,EAAfA,eAdG;AAcc;AACjB0C,MAAAA,MAAM,EAANA,MAfG;AAeK;AACRpC,MAAAA,WAAW,EAAXA,WAhBG;AAgBU;AACbqC,MAAAA,aAAa,EAAbA,aAjBG;AAiBY;AACfI,MAAAA,QAAQ,EAARA,QAlBG,CAkBO;;AAlBP,KAAP;AAoBH;AA/N0B,CAAD,CAA9B","sourcesContent":["import { defineComponent, ref, onMounted } from 'vue'; // ref：响应式变量，控制弹框的显示与隐藏；onMounted：组件被挂载时做的事情\r\nimport { book } from '@/service'; // http后端获取列表列表数据\r\nimport { useRouter } from 'vue-router'; // 操作路由的方法（跳到对应页面）\r\nimport { message, Modal, Input } from 'ant-design-vue'; // 提示框、确认框、输入框\r\nimport { result, formatTimestamp } from '@/helpers/utils'; // result请求结果；formatTimestamp格式化时间戳\r\nimport AddOne from './AddOne/index.vue'; // 书籍添加\r\nimport Update from './Update/index.vue'; // 修改书籍信息\r\n\r\nexport default defineComponent({\r\n    components:{\r\n        AddOne, // 注册AddOne\r\n        Update, // 注册修改书籍\r\n    },\r\n    setup() {\r\n\r\n        // 路由操作，跳转到指定详情页\r\n        const router = useRouter();\r\n\r\n        // 书籍表格列的配置项\r\n        const columns = [\r\n            {\r\n                title: '书名',\r\n                dataIndex: 'name',\r\n            },\r\n            {\r\n                title: '作者',\r\n                dataIndex: 'author',\r\n            },\r\n            {\r\n                title: '价格',\r\n                dataIndex: 'price',\r\n            },\r\n            {\r\n                title: '库存',\r\n                slots: {\r\n                    customRender: 'count',\r\n                },\r\n            },\r\n            {\r\n                title: '出版日期',\r\n                dataIndex: 'publishDate',\r\n                // 插槽\r\n                slots: {\r\n                    customRender: 'publishDate',\r\n                },\r\n            },\r\n            {\r\n                title: '分类',\r\n                dataIndex: 'classify',\r\n            },\r\n            {\r\n                title: '操作',\r\n                slots: {\r\n                    customRender: 'actions',\r\n                },\r\n            },\r\n            \r\n        ];\r\n\r\n        // 弹框显示\r\n        const show = ref(false); // 添加一条弹框，默认关闭\r\n        const showUpdateModal = ref(false); // 修改书籍弹框\r\n        // 书籍数据\r\n        const list = ref([]); // 书籍数据\r\n        const total = ref(0); // 书籍总数\r\n        const curPage = ref(1); // 当前页码\r\n        const keyword = ref(''); // 查询书名\r\n        const isSearch = ref(false); // 当前搜索状态，默认false\r\n        const curEditBook = ref({}); // 编辑\r\n\r\n        // http后端返回书籍信息\r\n        const getList = async () => {\r\n            const res = await book.list({\r\n                page: curPage.value, // 页码\r\n                size: 10, // 书籍条数\r\n                keyword: keyword.value, // 查找书名\r\n            });\r\n            \r\n            // http成功时书籍列表以及页数赋值\r\n            result(res)\r\n                .success(({ data }) => {\r\n                    // 重命名：l 书籍列表 ； t 书籍总数\r\n                    const { list: l, total: t } = data;\r\n                    list.value = l;\r\n                    total.value = t;\r\n                });\r\n        };\r\n\r\n        // 组件挂载时做的事情，页面打开时显示书籍list信息\r\n        onMounted(async () => {\r\n            getList(); // 返回书籍列表\r\n        });\r\n\r\n        // 页码变化时做的事情，获取对应页码的书籍数据\r\n        const setPage = (page) => {\r\n            curPage.value = page; // 修改当前页\r\n            getList(); // 返回书籍列表\r\n        };\r\n\r\n        // 搜索书籍\r\n        const onSearch = () => {\r\n            getList(); // 显示书籍列表\r\n            isSearch.value = Boolean(keyword.value); // 搜索状态（keyword.value有值时 true，无值 false）\r\n        };\r\n\r\n        // 返回书籍列表首页\r\n        const backAll = () => {\r\n            keyword.value = ''; // 清空查询书籍input\r\n            isSearch.value = false; // 搜索状态false\r\n            getList(); // 显示书籍列表\r\n        };\r\n\r\n        // 删除一本书籍\r\n        const remove = async ({ text:record }) => {\r\n\r\n            const { _id } = record; // 该书籍的一整条信息\r\n\r\n            const res = await book.remove(_id); // http请求后端删除书籍\r\n\r\n            // http成功提示\r\n            result(res)\r\n                .success(({ msg }) => {\r\n                    message.success(msg);\r\n                });\r\n            \r\n//            const idx = list.value.findIndex((item) => {\r\n//                return item._id === _id;\r\n//            });\r\n//            list.value.splice(idx, 1);// 直接在页面删除\r\n\r\n            getList(); // http书籍列表\r\n        };\r\n\r\n        // 更新库存数据（增减，书籍记录）\r\n        const updateCount = (type, record) => {\r\n\r\n            // type：区分增加或减少\r\n            let word = '增加';\r\n            if (type === 'OUT_COUNT') {\r\n                word = '减少';\r\n            }\r\n\r\n            // 出入库确认弹框\r\n            Modal.confirm({\r\n                title: `要${word}多少库存`,\r\n                content: (\r\n                    <div>\r\n                        <Input class=\"__book_input_count\"/>\r\n                    </div>\r\n                ),\r\n\r\n                // OK时做的事情\r\n                onOk: async () => {\r\n                    const el = document.querySelector('.__book_input_count'); // 获取input数据\r\n                    let num = el.value; // 增减数量\r\n\r\n                    // http请求更新库存\r\n                    const res = await book.updateCount({\r\n                        id: record._id, // 书籍id\r\n                        num, // 增减数量\r\n                        type, // 出库或入库\r\n                    });\r\n\r\n                    // http成功响应\r\n                    result(res)\r\n                        .success((data) => {\r\n                            // if是type入库\r\n                            if (type === 'IN_COUNT') {\r\n                                // 入库操作\r\n                                num = Math.abs(num);\r\n                            } else {\r\n                                // 否则出库操作\r\n                                num = -Math.abs(num);\r\n                            }\r\n                            // 在页面找这条item\r\n                            const one = list.value.find((item) => {\r\n                                return item._id === record._id;\r\n                            });\r\n                            // 修改数值\r\n                            if (one) {\r\n                                one.count = one.count + num;\r\n                                // 出入库提示\r\n                                message.success(`成功${word} ${Math.abs(num)} 本书`);\r\n                            }\r\n                        });\r\n                    \r\n                },\r\n            });\r\n\r\n        }; \r\n\r\n        // 编辑事假\r\n        const update = ({ record }) => {\r\n            showUpdateModal.value = true; // 弹框\r\n            curEditBook.value = record; // 书籍书籍\r\n        };\r\n\r\n        // 编辑books方法\r\n        const updateCurBook = (newData) => {\r\n            // 合并数据\r\n            Object.assign(curEditBook.value, newData);\r\n        };\r\n\r\n        // 进入书籍详情页\r\n        const toDetail = ({ record }) => {\r\n            \r\n            // 跳转到指定详情页\r\n           router.push(`/books/${record._id}`);\r\n        };\r\n        \r\n\r\n        return {\r\n            columns, // 表格列的配置项\r\n            show, // 添加书籍弹框开关\r\n            list, // 后端书籍数据\r\n            formatTimestamp, // 格式化时间戳\r\n            curPage, // 当前页码\r\n            total, // 书籍总数\r\n            setPage, // 变换页面\r\n            keyword, // 查询书名\r\n            onSearch, // 查找书\r\n            backAll, // 返回查询首页\r\n            isSearch, // 当前搜索状态\r\n            remove, // 删除书籍\r\n            updateCount, // 更新库存\r\n            showUpdateModal, // 修改书籍弹框\r\n            update, // 修改书籍\r\n            curEditBook, // 编辑\r\n            updateCurBook, // 编辑方法\r\n            toDetail, // 详情\r\n        };\r\n    },\r\n\r\n\r\n});"]}]}