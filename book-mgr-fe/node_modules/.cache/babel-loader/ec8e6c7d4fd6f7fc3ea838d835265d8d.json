{"remainingRequest":"C:\\Users\\kke222222\\Desktop\\projects\\book-mgr\\book-mgr-fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\kke222222\\Desktop\\projects\\book-mgr\\book-mgr-fe\\src\\views\\Auth\\index.js?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\kke222222\\Desktop\\projects\\book-mgr\\book-mgr-fe\\src\\views\\Auth\\index.js","mtime":1635166913642},{"path":"C:\\Users\\kke222222\\Desktop\\projects\\book-mgr\\book-mgr-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\kke222222\\Desktop\\projects\\book-mgr\\book-mgr-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2trZTIyMjIyMi9EZXNrdG9wL3Byb2plY3RzL2Jvb2stbWdyL2Jvb2stbWdyLWZlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovL+iupOivgemAu+i+kQppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIHJlYWN0aXZlLCByZWYgfSBmcm9tICd2dWUnOyAvL2RlZmluZUNvbXBvbmVudOe7hOS7tuino+mHiu+8m3JlYWN0aXZl77ya5ZON5bqU5pWw5o2uCgppbXBvcnQgeyBVc2VyT3V0bGluZWQsIExvY2tPdXRsaW5lZCwgS2V5T3V0bGluZWQsIE1haWxPdXRsaW5lZCB9IGZyb20gJ0BhbnQtZGVzaWduL2ljb25zLXZ1ZSc7Ci8qIOWbvuaghyAqLwoKaW1wb3J0IHsgYXV0aCB9IGZyb20gJ0Avc2VydmljZSc7IC8vIOiupOivgeivt+axguacjeWKoQoKaW1wb3J0IHsgcmVzdWx0IH0gZnJvbSAnQC9oZWxwZXJzL3V0aWxzJzsgLy8g6K+35rGC5oiQ5Yqf5LiO5aSx6LSl55qE5aSE55CGCgppbXBvcnQgeyBtZXNzYWdlIH0gZnJvbSAnYW50LWRlc2lnbi12dWUnOyAvL+aPkOekuuahhgoKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICAvL+azqOWGjAogIGNvbXBvbmVudHM6IHsKICAgIFVzZXJPdXRsaW5lZDogVXNlck91dGxpbmVkLAoKICAgIC8qIOeUqOaIt+WbvuaghyAqLwogICAgTG9ja091dGxpbmVkOiBMb2NrT3V0bGluZWQsCgogICAgLyog6ZSBICovCiAgICBLZXlPdXRsaW5lZDogS2V5T3V0bGluZWQsCgogICAgLyog6ZKl5YyZICovCiAgICBNYWlsT3V0bGluZWQ6IE1haWxPdXRsaW5lZAogICAgLyog6YKA6K+356CBICovCgogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgLy/ojrflj5ZzZXJ2aWNl6KGo5Y2V5pWw5o2u77yMcmVhY3RpdmXvvJrlk43lupTlvI/mlbDmja7pm4blkIgKICAgIHZhciByZWdGb3JtID0gcmVhY3RpdmUoewogICAgICBhY2NvdW50OiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBpbnZpdGVDb2RlOiAnJwogICAgfSk7IC8v5rOo5YaM6YC76L6R77ya6I635Y+W5pWw5o2u5ZCO77yMCgogICAgdmFyIHJlZ2lzdGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShyZWdGb3JtLmFjY291bnQgPT09ICcnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgbWVzc2FnZS5pbmZvKCfor7fovpPlhaXotKbmiLcnKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBpZiAoIShyZWdGb3JtLnBhc3N3b3JkID09PSAnJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW5mbygn6K+36L6T5YWl5a+G56CBJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgaWYgKCEocmVnRm9ybS5pbnZpdGVDb2RlID09PSAnJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW5mbygn6K+36L6T5YWl6YKA6K+356CBJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIGF1dGgucmVnaXN0ZXIocmVnRm9ybS5hY2NvdW50LCByZWdGb3JtLnBhc3N3b3JkLCByZWdGb3JtLmludml0ZUNvZGUpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIC8v57uT5p6c6YC76L6RCiAgICAgICAgICAgICAgICByZXN1bHQocmVzKSAvLyDnu5Pmnpzlh73mlbAKICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3VjY2VzcyhkYXRhLm1zZyk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gcmVnaXN0ZXIoKSB7CiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsgLy/nmbvlvZXnlKjliLDooajljZXmlbDmja7vvIxyZWFjdGl2ZeebuOW6lOW8j+aVsOaNru+8jOWunueOsOWPjOWQkee7keWumgoKCiAgICB2YXIgbG9naW5Gb3JtID0gcmVhY3RpdmUoewogICAgICBhY2NvdW50OiAnJywKICAgICAgcGFzc3dvcmQ6ICcnCiAgICB9KTsgLy/nmbvlvZXpgLvovpEKCiAgICB2YXIgbG9naW4gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKGxvZ2luRm9ybS5hY2NvdW50ID09PSAnJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBtZXNzYWdlLmluZm8oJ+ivt+i+k+WFpei0puaItycpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBpZiAoIShsb2dpbkZvcm0ucGFzc3dvcmQgPT09ICcnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW5mbygn6K+36L6T5YWl5a+G56CBJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBhdXRoLmxvZ2luKGxvZ2luRm9ybS5hY2NvdW50LCBsb2dpbkZvcm0ucGFzc3dvcmQpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHJlc3VsdChyZXMpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdWNjZXNzKGRhdGEubXNnKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHJldHVybiB7CiAgICAgIC8vIOazqOWGjOebuOWFs+aVsOaNrgogICAgICByZWdGb3JtOiByZWdGb3JtLAogICAgICByZWdpc3RlcjogcmVnaXN0ZXIsCiAgICAgIC8vIOeZu+WFpeebuOWFs+aVsOaNrgogICAgICBsb2dpbjogbG9naW4sCiAgICAgIGxvZ2luRm9ybTogbG9naW5Gb3JtCiAgICB9OwogIH0KfSk7"},{"version":3,"sources":["C:/Users/kke222222/Desktop/projects/book-mgr/book-mgr-fe/src/views/Auth/index.js"],"names":["defineComponent","reactive","ref","UserOutlined","LockOutlined","KeyOutlined","MailOutlined","auth","result","message","components","setup","regForm","account","password","inviteCode","register","info","res","success","data","msg","loginForm","login"],"mappings":"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","sourcesContent":["//认证逻辑\r\nimport { defineComponent, reactive,ref } from 'vue';//defineComponent组件解释；reactive：响应数据\r\nimport { UserOutlined, LockOutlined, KeyOutlined, MailOutlined } from '@ant-design/icons-vue'/* 图标 */\r\nimport { auth } from '@/service';// 认证请求服务\r\nimport { result } from '@/helpers/utils';// 请求成功与失败的处理\r\nimport { message } from 'ant-design-vue';//提示框\r\n\r\nexport default defineComponent({\r\n    //注册\r\n    components: {\r\n        UserOutlined,/* 用户图标 */\r\n        LockOutlined,/* 锁 */\r\n        KeyOutlined,/* 钥匙 */\r\n        MailOutlined,/* 邀请码 */\r\n    },\r\n    setup() {\r\n        //获取service表单数据，reactive：响应式数据集合\r\n        const regForm = reactive({\r\n            account: '',\r\n            password: '',\r\n            inviteCode:'',\r\n        });\r\n        //注册逻辑：获取数据后，\r\n        const register = async () => {\r\n            //message提示，前端拦截\r\n             if (regForm.account === '') {\r\n                message.info('请输入账户');\r\n                return;\r\n            }\r\n            if (regForm.password === '') {\r\n                message.info('请输入密码');\r\n                return;\r\n            } \r\n            if (regForm.inviteCode === '') {\r\n                message.info('请输入邀请码');\r\n                return;\r\n            }\r\n            //res 获取注册者表单的数据\r\n            const res = await auth.register(\r\n                regForm.account,\r\n                regForm.password,\r\n                regForm.inviteCode,\r\n                );\r\n            //结果逻辑\r\n            result(res) // 结果函数\r\n                .success((data) => {\r\n                    message.success(data.msg);\r\n                });\r\n                \r\n        };\r\n\r\n        //登录用到表单数据，reactive相应式数据，实现双向绑定\r\n        const loginForm = reactive({\r\n            account: '',\r\n            password: '',\r\n        });\r\n        //登录逻辑\r\n        const login = async () => {\r\n            if (loginForm.account === '') {\r\n                message.info('请输入账户');\r\n                return;\r\n            }\r\n            if (loginForm.password === '') {\r\n                message.info('请输入密码');\r\n                return;\r\n            } \r\n            //res 获取登入者表单的数据\r\n            const res = await auth.login(loginForm.account, loginForm.password);\r\n\r\n            result(res)\r\n                .success((data) => {\r\n                    message.success(data.msg);\r\n                });\r\n        };\r\n\r\n    return {\r\n        // 注册相关数据\r\n        regForm,\r\n        register,\r\n        // 登入相关数据\r\n        login,\r\n        loginForm,\r\n    };\r\n    },\r\n});"]}]}