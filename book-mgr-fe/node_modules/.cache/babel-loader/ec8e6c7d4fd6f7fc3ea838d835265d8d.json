{"remainingRequest":"C:\\Users\\kke222222\\Desktop\\projects\\book-mgr\\book-mgr-fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\kke222222\\Desktop\\projects\\book-mgr\\book-mgr-fe\\src\\views\\Auth\\index.js?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\kke222222\\Desktop\\projects\\book-mgr\\book-mgr-fe\\src\\views\\Auth\\index.js","mtime":1637287531477},{"path":"C:\\Users\\kke222222\\Desktop\\projects\\book-mgr\\book-mgr-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\kke222222\\Desktop\\projects\\book-mgr\\book-mgr-fe\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2trZTIyMjIyMi9EZXNrdG9wL3Byb2plY3RzL2Jvb2stbWdyL2Jvb2stbWdyLWZlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLyDorqTor4HpgLvovpEKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZWFjdGl2ZSwgcmVmIH0gZnJvbSAndnVlJzsgLy9kZWZpbmVDb21wb25lbnTvvJrnu4Tku7bmj5DnpLrvvJtyZWFjdGl2Ze+8muWTjeW6lOW8j+aVsOaNru+8jOaOpeaUtuWuouaIt+err+WPkemAgei/h+adpeeahOivt+axggoKaW1wb3J0IHsgVXNlck91dGxpbmVkLCBMb2NrT3V0bGluZWQsIEtleU91dGxpbmVkLCBNYWlsT3V0bGluZWQgfSBmcm9tICdAYW50LWRlc2lnbi9pY29ucy12dWUnOyAvLyDlm77moIcKCmltcG9ydCB7IGF1dGggfSBmcm9tICdAL3NlcnZpY2UnOyAvLyDorqTor4Hor7fmsYLmnI3liqEKCmltcG9ydCB7IHJlc3VsdCB9IGZyb20gJ0AvaGVscGVycy91dGlscyc7IC8vIOWPkeW+gOWQjuerr2h0dHDor7fmsYLmiJDlip/kuI7lpLHotKXnmoTlpITnkIYKCmltcG9ydCB7IG1lc3NhZ2UgfSBmcm9tICdhbnQtZGVzaWduLXZ1ZSc7IC8vIOaPkOekuuahhgoKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICAvLyDms6jlhozlm77moIcKICBjb21wb25lbnRzOiB7CiAgICBVc2VyT3V0bGluZWQ6IFVzZXJPdXRsaW5lZCwKCiAgICAvKiDnlKjmiLflm77moIcgKi8KICAgIExvY2tPdXRsaW5lZDogTG9ja091dGxpbmVkLAoKICAgIC8qIOmUgSAqLwogICAgS2V5T3V0bGluZWQ6IEtleU91dGxpbmVkLAoKICAgIC8qIOmSpeWMmSAqLwogICAgTWFpbE91dGxpbmVkOiBNYWlsT3V0bGluZWQKICAgIC8qIOmCgOivt+eggSAqLwoKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIC8vIHJlZ0Zvcm3nlKjkuo7ojrflj5bor7fmsYLmnI3liqHlj5HpgIHov4fmnaXnmoTmlbDmja7vvIxyZWFjdGl2Ze+8muWTjeW6lOW8j+aVsOaNrumbhuWQiAogICAgdmFyIHJlZ0Zvcm0gPSByZWFjdGl2ZSh7CiAgICAgIGFjY291bnQ6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIGludml0ZUNvZGU6ICcnCiAgICB9KTsgLy8g5rOo5YaM6YC76L6R77ya6I635Y+W5pWw5o2u5ZCO77yMCgogICAgdmFyIHJlZ2lzdGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShyZWdGb3JtLmFjY291bnQgPT09ICcnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgbWVzc2FnZS5pbmZvKCfor7fovpPlhaXotKbmiLcnKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBpZiAoIShyZWdGb3JtLnBhc3N3b3JkID09PSAnJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW5mbygn6K+36L6T5YWl5a+G56CBJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgaWYgKCEocmVnRm9ybS5pbnZpdGVDb2RlID09PSAnJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW5mbygn6K+36L6T5YWl6YKA6K+356CBJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIGF1dGgucmVnaXN0ZXIocmVnRm9ybS5hY2NvdW50LCByZWdGb3JtLnBhc3N3b3JkLCByZWdGb3JtLmludml0ZUNvZGUpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIC8vIOWQjuerr+WTjeW6lOe7k+aenAogICAgICAgICAgICAgICAgcmVzdWx0KHJlcykgLy8g5Lyg6YCS5ZCO56uv55qE5ZON5bqU5L2TCiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgICBtZXNzYWdlLnN1Y2Nlc3MoZGF0YS5tc2cpOyAvLyDmiJDlip/mj5DnpLoKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiByZWdpc3RlcigpIHsKICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOyAvLyDnmbvlvZXnlKjnmoTooajljZXmlbDmja7vvIxyZWFjdGl2ZeebuOW6lOW8j+aVsOaNru+8jOWunueOsOWPjOWQkee7keWumgoKCiAgICB2YXIgbG9naW5Gb3JtID0gcmVhY3RpdmUoewogICAgICBhY2NvdW50OiAnJywKICAgICAgcGFzc3dvcmQ6ICcnCiAgICB9KTsgLy8g55m75b2V6YC76L6RCgogICAgdmFyIGxvZ2luID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShsb2dpbkZvcm0uYWNjb3VudCA9PT0gJycpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgbWVzc2FnZS5pbmZvKCfor7fovpPlhaXotKbmiLcnKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaWYgKCEobG9naW5Gb3JtLnBhc3N3b3JkID09PSAnJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBtZXNzYWdlLmluZm8oJ+ivt+i+k+WFpeWvhueggScpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gYXV0aC5sb2dpbihsb2dpbkZvcm0uYWNjb3VudCwgbG9naW5Gb3JtLnBhc3N3b3JkKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICAvLyDlkI7nq6/lk43lupTnu5PmnpwKICAgICAgICAgICAgICAgIHJlc3VsdChyZXMpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdWNjZXNzKGRhdGEubXNnKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHJldHVybiB7CiAgICAgIC8vIOS+m+aooeadv+S9v+eUqAogICAgICByZWdGb3JtOiByZWdGb3JtLAogICAgICAvLyDms6jlhozkv6Hmga8KICAgICAgcmVnaXN0ZXI6IHJlZ2lzdGVyLAogICAgICAvLyDms6jlhozpgLvovpEKICAgICAgbG9naW46IGxvZ2luLAogICAgICAvLyDnmbvlhaXkv6Hmga8KICAgICAgbG9naW5Gb3JtOiBsb2dpbkZvcm0gLy8g55m75YWl6YC76L6RCgogICAgfTsKICB9Cn0pOw=="},{"version":3,"sources":["C:/Users/kke222222/Desktop/projects/book-mgr/book-mgr-fe/src/views/Auth/index.js"],"names":["defineComponent","reactive","ref","UserOutlined","LockOutlined","KeyOutlined","MailOutlined","auth","result","message","components","setup","regForm","account","password","inviteCode","register","info","res","success","data","msg","loginForm","login"],"mappings":";;AAAA;AACA,SAASA,eAAT,EAA0BC,QAA1B,EAAmCC,GAAnC,QAA8C,KAA9C,C,CAAqD;;AACrD,SAASC,YAAT,EAAuBC,YAAvB,EAAqCC,WAArC,EAAkDC,YAAlD,QAAsE,uBAAtE,C,CAA8F;;AAC9F,SAASC,IAAT,QAAqB,WAArB,C,CAAkC;;AAClC,SAASC,MAAT,QAAuB,iBAAvB,C,CAA0C;;AAC1C,SAASC,OAAT,QAAwB,gBAAxB,C,CAA0C;;AAE1C,eAAeT,eAAe,CAAC;AAE3B;AACAU,EAAAA,UAAU,EAAE;AACRP,IAAAA,YAAY,EAAZA,YADQ;;AACM;AACdC,IAAAA,YAAY,EAAZA,YAFQ;;AAEM;AACdC,IAAAA,WAAW,EAAXA,WAHQ;;AAGM;AACdC,IAAAA,YAAY,EAAZA;AAAc;;AAJN,GAHe;AAU3BK,EAAAA,KAV2B,mBAUnB;AAEJ;AACA,QAAMC,OAAO,GAAGX,QAAQ,CAAC;AACrBY,MAAAA,OAAO,EAAE,EADY;AAErBC,MAAAA,QAAQ,EAAE,EAFW;AAGrBC,MAAAA,UAAU,EAAC;AAHU,KAAD,CAAxB,CAHI,CASJ;;AACA,QAAMC,QAAQ;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAGRJ,OAAO,CAACC,OAAR,KAAoB,EAHZ;AAAA;AAAA;AAAA;;AAITJ,gBAAAA,OAAO,CAACQ,IAAR,CAAa,OAAb;AAJS;;AAAA;AAAA,sBAOTL,OAAO,CAACE,QAAR,KAAqB,EAPZ;AAAA;AAAA;AAAA;;AAQTL,gBAAAA,OAAO,CAACQ,IAAR,CAAa,OAAb;AARS;;AAAA;AAAA,sBAWTL,OAAO,CAACG,UAAR,KAAuB,EAXd;AAAA;AAAA;AAAA;;AAYTN,gBAAAA,OAAO,CAACQ,IAAR,CAAa,QAAb;AAZS;;AAAA;AAAA;AAAA,uBAiBKV,IAAI,CAACS,QAAL,CACdJ,OAAO,CAACC,OADM,EAEdD,OAAO,CAACE,QAFM,EAGdF,OAAO,CAACG,UAHM,CAjBL;;AAAA;AAiBPG,gBAAAA,GAjBO;AAuBb;AACAV,gBAAAA,MAAM,CAACU,GAAD,CAAN,CAAY;AAAZ,iBACKC,OADL,CACa,UAACC,IAAD,EAAU;AACfX,kBAAAA,OAAO,CAACU,OAAR,CAAgBC,IAAI,CAACC,GAArB,EADe,CACY;AAC9B,iBAHL;;AAxBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAARL,QAAQ;AAAA;AAAA;AAAA,OAAd,CAVI,CAyCJ;;;AACA,QAAMM,SAAS,GAAGrB,QAAQ,CAAC;AACvBY,MAAAA,OAAO,EAAE,EADc;AAEvBC,MAAAA,QAAQ,EAAE;AAFa,KAAD,CAA1B,CA1CI,CA+CJ;;AACA,QAAMS,KAAK;AAAA,0EAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACND,SAAS,CAACT,OAAV,KAAsB,EADhB;AAAA;AAAA;AAAA;;AAENJ,gBAAAA,OAAO,CAACQ,IAAR,CAAa,OAAb;AAFM;;AAAA;AAAA,sBAKNK,SAAS,CAACR,QAAV,KAAuB,EALjB;AAAA;AAAA;AAAA;;AAMNL,gBAAAA,OAAO,CAACQ,IAAR,CAAa,OAAb;AANM;;AAAA;AAAA;AAAA,uBAWQV,IAAI,CAACgB,KAAL,CAAWD,SAAS,CAACT,OAArB,EAA8BS,SAAS,CAACR,QAAxC,CAXR;;AAAA;AAWJI,gBAAAA,GAXI;AAaV;AACAV,gBAAAA,MAAM,CAACU,GAAD,CAAN,CACKC,OADL,CACa,UAACC,IAAD,EAAU;AACfX,kBAAAA,OAAO,CAACU,OAAR,CAAgBC,IAAI,CAACC,GAArB;AACH,iBAHL;;AAdU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAALE,KAAK;AAAA;AAAA;AAAA,OAAX;;AAoBJ,WAAO;AAEH;AACAX,MAAAA,OAAO,EAAPA,OAHG;AAGM;AACTI,MAAAA,QAAQ,EAARA,QAJG;AAIO;AAEVO,MAAAA,KAAK,EAALA,KANG;AAMI;AACPD,MAAAA,SAAS,EAATA,SAPG,CAOQ;;AAPR,KAAP;AASC;AAvF0B,CAAD,CAA9B","sourcesContent":["// 认证逻辑\r\nimport { defineComponent, reactive,ref } from 'vue'; //defineComponent：组件提示；reactive：响应式数据，接收客户端发送过来的请求\r\nimport { UserOutlined, LockOutlined, KeyOutlined, MailOutlined } from '@ant-design/icons-vue' // 图标\r\nimport { auth } from '@/service'; // 认证请求服务\r\nimport { result } from '@/helpers/utils'; // 发往后端http请求成功与失败的处理\r\nimport { message } from 'ant-design-vue'; // 提示框\r\n\r\nexport default defineComponent({\r\n\r\n    // 注册图标\r\n    components: {\r\n        UserOutlined, /* 用户图标 */\r\n        LockOutlined, /* 锁 */\r\n        KeyOutlined,  /* 钥匙 */\r\n        MailOutlined, /* 邀请码 */\r\n    },\r\n\r\n    setup() {\r\n\r\n        // regForm用于获取请求服务发送过来的数据，reactive：响应式数据集合\r\n        const regForm = reactive({\r\n            account: '',\r\n            password: '',\r\n            inviteCode:'',\r\n        });\r\n\r\n        // 注册逻辑：获取数据后，\r\n        const register = async () => {\r\n\r\n            //message提示，前端拦截\r\n             if (regForm.account === '') {\r\n                message.info('请输入账户');\r\n                return;\r\n            }\r\n            if (regForm.password === '') {\r\n                message.info('请输入密码');\r\n                return;\r\n            } \r\n            if (regForm.inviteCode === '') {\r\n                message.info('请输入邀请码');\r\n                return;\r\n            }\r\n\r\n            // 调用auth.register发送http请求给后端，带过去账户、密码、邀请码\r\n            const res = await auth.register(\r\n                regForm.account,\r\n                regForm.password,\r\n                regForm.inviteCode,\r\n                );\r\n\r\n            // 后端响应结果\r\n            result(res) // 传递后端的响应体\r\n                .success((data) => {\r\n                    message.success(data.msg); // 成功提示\r\n                });\r\n                \r\n        };\r\n\r\n        // 登录用的表单数据，reactive相应式数据，实现双向绑定\r\n        const loginForm = reactive({\r\n            account: '',\r\n            password: '',\r\n        });\r\n\r\n        // 登录逻辑\r\n        const login = async () => {\r\n            if (loginForm.account === '') {\r\n                message.info('请输入账户');\r\n                return;\r\n            }\r\n            if (loginForm.password === '') {\r\n                message.info('请输入密码');\r\n                return;\r\n            } \r\n\r\n            // 调用auth.login发送给后端http请求，带过去账户、密码、邀请码\r\n            const res = await auth.login(loginForm.account, loginForm.password);\r\n\r\n            // 后端响应结果\r\n            result(res)\r\n                .success((data) => {\r\n                    message.success(data.msg);\r\n                });\r\n        };\r\n\r\n    return {\r\n        \r\n        // 供模板使用\r\n        regForm, // 注册信息\r\n        register, // 注册逻辑\r\n        \r\n        login, // 登入信息\r\n        loginForm, // 登入逻辑\r\n    };\r\n    },\r\n});"]}]}